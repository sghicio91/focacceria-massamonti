/* =========================
   Tema chiaro con pattern neutro
========================= */
:root{
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#0b0c0e;
  --muted:#555b66;
  --primary:#22c55e;
  --border:#e5e9f2;
  --accent:#e9edf6;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:system-ui, sans-serif;
  color:var(--text);
  /* niente immagine sul body */
}

/* overlay bianco semitrasparente sullo sfondo della pagina */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:rgba(255,255,255,0.7);
  z-index:-1;
}

.container{max-width:1000px;margin:0 auto;padding:16px}

/* =========================
   TOPBAR (immagine solo sull’header)
========================= */
.topbar{
  position:relative;
  z-index:10;
  background-image:url("focacceria.jpg");
  background-repeat:no-repeat;
  background-size:cover;           /* riempie sempre l’area */
  background-position:center 40%;
  color:#fff;
  text-shadow:1px 1px 4px rgba(0,0,0,.7);
  border-bottom:1px solid var(--border);
  min-height:180px;                /* altezza minima hero */
  padding:20px 0;
}

.topbar__inner{
  position:relative;
  width:100%;
  min-height:180px;                /* coerente con .topbar */
  display:flex;
  align-items:center;
  justify-content:center;          /* brand centrato */
  padding:0 16px;
}

/* brand centrato */
.brand{
  text-align:center;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:4px;
}
.brand__title{font-weight:800;font-size:20px;margin:0}
.brand__subtitle{font-size:12px;color:#f1f5f9;margin:0}

/* Banner minimo: trasparente, leggera ombra */
#minOrderBanner{
  margin-top:.25rem;
  font-size:12px;
  font-weight:500;
  color:#fff;
  background:transparent !important;
  border:none !important;
  text-shadow:0 1px 2px rgba(0,0,0,.45);
}

/* ===== Barra titolo sezione + carrello a destra ===== */
.section__bar{
  display:flex;
  align-items:center;
  justify-content:space-between;   /* spinge il bottone a destra */
  gap:12px;
  margin:12px 0 10px;
}
.section__bar .section__title{margin:0}

/* ===== Bottone carrello (chiaro, leggibile ovunque) ===== */
#cartBtn{
  background:var(--card);
  border:1px solid var(--border);
  color:var(--text);
  padding:8px 12px;
  border-radius:10px;
  line-height:1;
}
#cartBtn .badge{
  background:var(--primary);
  color:#fff;
  padding:2px 6px;
  border-radius:999px;
  font-size:12px;
  margin-left:6px;
}

/* (rimosso: .controls non più usato) */

/* =========================
   Titoli sezioni / categorie
========================= */
.section__title{font-size:20px;margin:16px 0 8px}
.section__title--center{text-align:center;margin:12px 0 10px}

/* =========================
   Sezioni categoria
========================= */
.category-section{display:block;margin:20px 0}

/* Contenitore prodotti: blocco lineare, non griglia */
#productGrid, .product-grid, .products{display:block}

/* =========================
   CARD PRODOTTO — UNA PER RIGA
========================= */
.grid{display:block}
.grid > .card{margin-bottom:12px}

.card{
  background:transparent;
  border:1px solid var(--border);
  border-radius:14px;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px; gap:12px; box-shadow:none;
}

.card__header{
  all:unset;
  display:block;
  cursor:pointer;
  flex:1 1 auto;
}

.card__meta{display:flex;flex-direction:column;gap:6px}
.card__title{font-weight:800;font-size:18px;margin:0;line-height:1.15;}
.card__price{font-weight:700;font-size:16px;margin:0;}
.card__desc{
  margin:0;color:var(--muted);font-size:14px;
  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
}

.card__actions{flex:0 0 auto;display:flex;align-items:center;gap:8px}

/* =========================
   Bottoni
========================= */
.btn{
  background:var(--primary);
  color:#051006;
  border:none;
  border-radius:10px;
  padding:8px 10px;
  font-weight:600;
  cursor:pointer;
}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn--ghost{background:#fff;color:var(--text);border:1px solid var(--border)}
.btn--circle{width:42px;height:42px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;font-size:22px;padding:0}

/* qty inline */
.qty-inline{display:flex;align-items:center;gap:8px}
.qty-inline .btn{padding:6px 10px}
.qty-inline .count{min-width:22px;text-align:center;font-weight:700}

/* =========================
   FORM ORDINE
========================= */
.order .form{
  background:transparent;
  border:1px solid var(--border);
  border-radius:14px;
  padding:12px;
}
.form__row{display:flex;flex-direction:column;gap:6px;margin-bottom:10px}
.form__row--checkbox{flex-direction:row;align-items:center;gap:8px}
.form__footer{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;margin-top:8px;flex-wrap:wrap}
.form__totals{display:flex;flex-direction:column;gap:6px}
.form__line{display:flex;align-items:center;gap:8px;color:var(--muted);font-size:14px}
.form__line strong{color:var(--text)}
.form__msg{margin-top:8px;color:#d93025;min-height:1.2em}
input,select{background:#fff;color:var(--text);border:1px solid var(--border);padding:10px;border-radius:8px}

/* =========================
   CARRELLO
========================= */
.cart{
  position:fixed;right:16px;bottom:16px;z-index:9;
  background:var(--card);border:1px solid var(--border);
  border-radius:14px;width:min(380px,92vw);max-height:70vh;display:none;flex-direction:column
}
.cart[aria-hidden="false"]{display:flex}
.cart__header{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid var(--border)}
.cart__title{margin:0}
.cart__list{padding:8px 12px;display:flex;flex-direction:column;gap:8px;overflow:auto}
.cart__item{display:flex;align-items:center;justify-content:space-between;border:1px solid var(--border);border-radius:10px;padding:8px}
.qty{display:flex;align-items:center;gap:6px}
.qty button{width:28px;height:28px;border-radius:8px}
.item__meta{display:flex;flex-direction:column}
.item__name{font-weight:700}
.item__price{color:var(--muted);font-size:12px}

/* =========================
   MODALE DETTAGLIO
========================= */
.modal{position:fixed;inset:0;display:none;place-items:center;z-index:20}
.modal[aria-hidden="false"]{display:grid}
.modal__backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45)}
.modal__dialog{position:relative;background:var(--card);border:1px solid var(--border);border-radius:14px;max-width:520px;width:92vw;padding:12px;z-index:1}
.modal__header{display:flex;align-items:center;justify-content:space-between}
.modal__title{margin:0}
.modal__body{margin:8px 0;color:var(--muted)}
.modal__footer{display:flex;align-items:center;justify-content:space-between}

/* =========================
   TOAST
========================= */
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:#fff;color:var(--text);border:1px solid var(--border);border-radius:10px;padding:10px 14px;display:none;z-index:30;box-shadow:0 8px 24px rgba(16,24,40,.08)}
.toast.show{display:block}

/* =========================
   Accessibilità
========================= */
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* =========================
   Responsive tweaks
========================= */
@media (max-width:480px){
  .topbar{min-height:160px}
  .topbar__inner{min-height:160px}
  #cartBtn{padding:6px 10px;font-size:14px}
}
@media (min-width:768px){
  .card__title{font-size:20px}
  .card__price{font-size:17px}
  .card__desc{-webkit-line-clamp:2}
}

/* (nessuna patch extra: il banner minimo è sopra) */


/* =========================
   Order Summary (bottom)
========================= */
.order-summary{
  flex:1 1 60%;
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:8px;
  border:1px solid var(--border);
  border-radius:10px;
  background:var(--card);
  max-height:160px;
  overflow:auto;
}
.order-summary__row{
  display:flex;align-items:center;justify-content:space-between;
  font-size:14px;
}
.order-summary__name{font-weight:600}
.order-summary__price{color:var(--muted);font-variant-numeric:tabular-nums}
@media (max-width:600px){
  .order-summary{flex:1 1 100%}
}


/* =========================
   Privacy text
========================= */
.privacy-text{
  font-size:12px;
  color:var(--muted);
  margin:6px 0 0;
  line-height:1.4;
}

/* =======================================================================
   PATCH TIPOGRAFIA — migliore leggibilità su schermi piccoli (Fold esterno)
   (override non distruttivi, solo migliorano le dimensioni e i target touch)
======================================================================= */
:root{
  /* tipografia fluida con limiti sensati */
  --font-base: clamp(16px, 4.6vw, 18px);
  --font-sm:   clamp(14px, 3.8vw, 16px);
  --font-xs:   clamp(12px, 3.4vw, 14px);
  --line: 1.45;
}

html { font-size: var(--font-base); }
body { line-height: var(--line); }

/* container più comodo ai bordi stretti */
.container { padding-left: 14px; padding-right: 14px; }

/* Titoli */
h1, .hero__title { font-size: clamp(1.15rem, 5.2vw, 1.6rem); }
.section__title { font-size: clamp(1rem, 4.6vw, 1.3rem); }

/* Brand */
.brand__title   { font-size: clamp(1.05rem, 4.8vw, 1.25rem); }
.brand__subtitle{ font-size: var(--font-xs); }

/* Card prodotto */
.card { padding: 12px 14px; }
.card__title { font-size: clamp(1rem, 4.4vw, 1.2rem); font-weight: 700; }
.card__price { font-size: clamp(0.95rem, 3.8vw, 1.05rem); }
.card__desc  { font-size: clamp(0.90rem, 3.6vw, 1rem); line-height: 1.4; }

/* Pulsanti: target minimo 44px */
.btn, .btn--ghost { min-height: 44px; }
.btn--circle { width: 44px; height: 44px; font-size: 1.1rem; }

/* Carrello */
.item__name  { font-size: clamp(0.95rem, 3.8vw, 1.05rem); }
.item__price { font-size: clamp(0.90rem, 3.6vw, 1rem); }
.qty .btn--ghost { width: 44px; height: 44px; }

/* Totali e riepilogo */
.form__line { font-size: clamp(0.95rem, 3.8vw, 1.05rem); }
.order-summary__row { font-size: clamp(0.95rem, 3.8vw, 1.05rem); }

/* Banner ordine minimo più compatto */
#minOrderBanner { font-size: var(--font-sm); }

/* Privacy più piccola del testo normale */
.privacy-text{
  font-size: var(--font-sm);
  line-height: 1.5;
  color: var(--muted);
}

/* Form: etichette e controlli un filo più grandi, ma comodi al tocco */
.form .input,
.form .select,
input, select { font-size: 1rem; min-height: 44px; }
.form__label { font-size: 0.95rem; }

/* Breakpoint extra-stretto: <360px */
@media (max-width: 360px){
  .card { padding: 10px 12px; }
  .btn--circle { width: 42px; height: 42px; }
  .container { padding-left: 10px; padding-right: 10px; }
}
